<% if (typeof searchMode !== 'undefined' && searchMode) { %>
    <div class="pt-24 px-4 container mx-auto min-h-screen">
        <h1 class="text-2xl font-bold mb-4 text-gray-400">Search Results</h1>
        <div id="searchResults" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
            </div>
    </div>
<% } else { %>
    <% if (hero) { %>
    <header class="relative w-full h-[85vh] overflow-hidden">
        <img src="<%= hero.cover_url %>" class="absolute inset-0 w-full h-full object-cover opacity-60">
        <div class="absolute inset-0 bg-gradient-to-r from-black via-black/40 to-transparent"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-[#141414] via-transparent to-transparent"></div>
        
        <div class="absolute bottom-1/3 left-4 md:left-16 max-w-xl">
            <h1 class="text-5xl md:text-7xl font-bold mb-4 drop-shadow-lg leading-tight"><%= hero.name %></h1>
            <p class="text-lg text-gray-200 mb-6 drop-shadow-md line-clamp-3">Top trending title currently streaming on Netflix Pro. Watch the full season now.</p>
            <div class="flex gap-4">
                <button onclick="openTitle('<%= hero.code %>', '<%= hero.name %>', '<%= hero.cover_url %>', <%= hero.episodes_total %>)" class="bg-white text-black px-8 py-2 rounded font-bold text-xl hover:bg-opacity-80 transition flex items-center gap-2">
                    <i class="fas fa-play"></i> Play
                </button>
                <button onclick="openTitle('<%= hero.code %>', '<%= hero.name %>', '<%= hero.cover_url %>', <%= hero.episodes_total %>)" class="bg-gray-500/70 text-white px-8 py-2 rounded font-bold text-xl hover:bg-opacity-50 transition flex items-center gap-2">
                    <i class="fas fa-info-circle"></i> More Info
                </button>
            </div>
        </div>
    </header>
    <% } %>

    <section class="pl-4 md:pl-16 -mt-32 relative z-10 space-y-8 pb-10">
        
        <div class="row">
            <h2 class="text-xl font-bold mb-2 text-gray-200 hover:text-white cursor-pointer">Trending Now</h2>
            <div class="flex overflow-x-auto gap-2 pb-4 scrollbar-hide">
                <% trending.forEach(item => { %>
                    <%- include('partials/card', {item: item}) %>
                <% }); %>
            </div>
        </div>

        <div class="row">
            <h2 class="text-xl font-bold mb-2 text-gray-200 hover:text-white cursor-pointer">Top Picks for You</h2>
            <div class="flex overflow-x-auto gap-2 pb-4 scrollbar-hide">
                <% topPicks.forEach(item => { %>
                    <%- include('partials/card', {item: item}) %>
                <% }); %>
            </div>
        </div>

    </section>
<% } %>
