<div class="relative min-h-screen w-full overflow-hidden">
    <div class="fixed inset-0 z-0 pointer-events-none">
        <img src="<%= series.cover %>" class="w-full h-full object-cover blur-[80px] opacity-20 scale-110">
        <div class="absolute inset-0 bg-gradient-to-b from-[#141414]/60 via-[#141414]/90 to-[#141414]"></div>
    </div>

    <div class="relative z-10 container mx-auto px-4 md:px-12 py-24 flex flex-col md:flex-row gap-10">
        <div class="w-48 md:w-72 mx-auto md:mx-0 flex-shrink-0">
            <div class="aspect-[2/3] rounded-lg overflow-hidden shadow-[0_0_50px_rgba(0,0,0,0.5)] ring-1 ring-white/10" data-aos="fade-right">
                <img src="<%= series.cover %>" class="w-full h-full object-cover">
            </div>
        </div>

        <div class="flex-1 text-center md:text-left space-y-6" data-aos="fade-up">
            <div>
                <h1 class="text-3xl md:text-5xl font-black text-white mb-2"><%= series.title %></h1>
                <div class="flex flex-wrap items-center justify-center md:justify-start gap-3 text-sm text-gray-400">
                    <span class="text-green-500 font-bold"><%= series.rating %></span>
                    <span><%= series.year %></span>
                    <span class="border border-gray-600 px-1 rounded text-xs">TV-MA</span>
                    <span><%= chapters.length %> Episodes</span>
                </div>
            </div>

            <div class="flex items-center justify-center md:justify-start gap-4">
                <% if(chapters.length > 0) { %>
                <a href="/watch/<%= series.id %>/<%= chapters[0].id %>" class="spa-link bg-netflix-red text-white px-8 py-3 rounded font-bold hover:bg-red-700 transition flex items-center gap-2 text-lg">
                    <i class="fas fa-play"></i> Play Episode 1
                </a>
                <% } %>
                <button class="bg-gray-600/40 border border-white/10 text-white p-3 rounded-full hover:bg-white/10 transition" onclick="alert('Added to My List')">
                    <i class="fas fa-plus"></i>
                </button>
            </div>

            <p class="text-gray-300 leading-relaxed max-w-2xl mx-auto md:mx-0 font-light">
                <%= series.intro %>
            </p>

            <div class="flex flex-wrap justify-center md:justify-start gap-2">
                <% series.tags.forEach(tag => { %>
                    <span class="text-xs text-gray-400 border border-gray-700 px-3 py-1 rounded-full"><%= tag %></span>
                <% }) %>
            </div>

            <div class="pt-8 border-t border-white/10">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-bold">Episodes</h3>
                    <span class="text-sm text-gray-500 font-mono"><%= chapters.length %> Items</span>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar">
                    <% chapters.forEach(ep => { %>
                        <a href="/watch/<%= series.id %>/<%= ep.id %>" class="spa-link flex items-center gap-4 p-4 rounded hover:bg-white/10 transition group border border-transparent hover:border-white/5">
                            <div class="text-2xl font-bold text-gray-500 group-hover:text-netflix-red w-8 text-center"><%= ep.index %></div>
                            <div class="flex-1 min-w-0">
                                <div class="font-bold text-gray-200 group-hover:text-white truncate">Episode <%= ep.index %></div>
                                <div class="text-xs text-gray-500 truncate"><%= series.title %></div>
                            </div>
                            <% if(ep.vip) { %> <i class="fas fa-crown text-yellow-500 text-xs"></i> <% } %>
                            <i class="fas fa-play-circle text-2xl text-transparent group-hover:text-white transition-colors"></i>
                        </a>
                    <% }); %>
                </div>
            </div>
        </div>
    </div>
</div>
