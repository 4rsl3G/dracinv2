<div class="min-h-screen pt-24 pb-20 px-4 md:px-12">
    <div class="max-w-4xl mx-auto mb-12 text-center" data-aos="fade-down">
        <h1 class="text-3xl md:text-5xl font-black text-white mb-6">Search Library</h1>
        
        <form action="/search" method="GET" class="spa-form relative w-full">
            <input type="text" name="q" value="<%= query || '' %>" 
                   class="w-full bg-[#1a1a1a] border border-gray-700 rounded-full py-4 px-8 text-lg text-white focus:outline-none focus:border-netflix-red focus:bg-[#252525] transition-all shadow-lg"
                   placeholder="Find movies, TV shows, genres..." autofocus>
            <button type="submit" class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-netflix-red rounded-full flex items-center justify-center hover:bg-red-700 transition">
                <i class="fas fa-search text-white"></i>
            </button>
        </form>
    </div>

    <% if (query) { %>
        <h2 class="text-gray-400 mb-6 font-bold text-lg border-b border-gray-800 pb-2">
            Results for "<span class="text-white"><%= query %></span>"
        </h2>
    <% } %>

    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6">
        <% if (results && results.length > 0) { %>
            <% results.forEach(item => { %>
                <a href="/series/<%= item.id %>" class="spa-link block group relative aspect-[2/3] bg-gray-800 rounded-lg overflow-hidden transition-transform hover:scale-105 duration-300">
                    <img src="<%= item.cover %>" class="w-full h-full object-cover transition-opacity opacity-90 group-hover:opacity-100" loading="lazy">
                    
                    <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4">
                        <span class="text-xs font-bold text-netflix-red mb-1"><%= item.rating || 'HD' %></span>
                        <h3 class="text-sm font-bold text-white leading-tight line-clamp-2"><%= item.title %></h3>
                    </div>
                </a>
            <% }); %>
        <% } else if (query) { %>
            <div class="col-span-full py-20 text-center text-gray-500">
                <i class="far fa-sad-tear text-6xl mb-4 block opacity-50"></i>
                <p class="text-xl">No results found.</p>
                <p class="text-sm mt-2">Try adjusting your search terms.</p>
            </div>
        <% } %>
    </div>
</div>
